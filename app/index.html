<!DOCTYPE html>
<html>
<head>
    <title>2024 Presidential Election Analysis</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <!-- Authors -->
    <div class="authors">
        <h4>By Matt Mansour, Brett Kim, Raunak Daga, and Khoi Nguyen</h4>
    </div>

    <!-- Data Story Section -->
    <div id="data-story">
        <section>
            <h3>Introduction</h3>
            <p>Placeholder: Introduction to the prediction markets and their legalization through Polymarket. Kalshi became legal to operate in the United States in 2023.</p>
            <p class="caption">Caption: Overview of prediction markets and their role in elections.</p>
        </section>
        
        <!-- Candidates and Electoral Map Section -->
        <section id="candidates-and-map">
            <h3>2024 Presidential Race Evolution</h3>
            <div id="candidates-overview">
                <div class="candidate republican">
                    <h4>Donald Trump</h4>
                    <p>Republican Nominee</p>
                    <p>Former President seeking second term</p>
                    <p>Maintained consistent polling lead through transitions</p>
                </div>
                
                <div class="candidate democrat">
                    <h4>Joe Biden</h4>
                    <p>Former Democratic Nominee (Withdrew)</p>
                    <p>Incumbent President who withdrew in July 2024</p>
                    <p>Led Democratic ticket until withdrawal</p>
                </div>
                
                <div class="candidate democrat">
                    <h4>Kamala Harris</h4>
                    <p>Current Democratic Nominee</p>
                    <p>Vice President who assumed nomination</p>
                    <p>Leading Democratic candidate post-Biden</p>
                </div>
            </div>

            <div id="electoral-map">
                <h4>Electoral College Projection</h4>
                <p>Tracking changes in projections through Biden withdrawal and Harris nomination</p>
                <!-- Interactive electoral college map visualization -->
                <div id="map-visualization">
                    <!-- Map will be rendered here -->
                </div>
                <div class="map-legend">
                    <p>Current Electoral Vote Count:</p>
                    <ul>
                        <li>Trump (R): XXX</li>
                        <li>Harris (D): XXX</li>
                        <li>Toss-up: XXX</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Key Events Section with Subsections -->
        <section id="key-events">
            <h3>Key Events Timeline</h3>
            <p>As you scroll, observe how major events impacted both polling data and prediction markets.</p>
            
            <!-- Scrolling visualization container -->
            <div id="events-visualization">
                <div class="event-item">
                    <h4>Biden Drops Out - July 2024</h4>
                    <p>Impact on polls and markets</p>
                    <!-- Visualization for this event -->
                </div>
                
                <div class="event-item">
                    <h4>First Assassination Attempt - Date</h4>
                    <p>Market reaction and polling shifts</p>
                    <!-- Visualization for this event -->
                </div>
                
                <div class="event-item">
                    <h4>Second Assassination Attempt - Date</h4>
                    <p>Further market and polling changes</p>
                    <!-- Visualization for this event -->
                </div>
                
                <!-- Additional events can be added here -->
            </div>
            
            <!-- Polling comparison for each event -->
            <div id="polling-comparison">
                <p>Polling data vs. Prediction market prices during each event</p>
                <!-- Dynamic visualization showing changes -->
            </div>
        </section>
        
        <!-- Arbitrage Section -->
        <section id="arbitrage">
            <h3>Arbitrage Opportunities</h3>
            <p>Understanding how traders could profit from price differences between Kalshi and Polymarket.</p>
            
            <div class="arbitrage-explanation">
                <h4>What is Arbitrage?</h4>
                <p>Explanation of how arbitrage works between prediction markets</p>
            </div>
            
            <div class="arbitrage-calculator">
                <h4>Profit Calculator</h4>
                <p>Interactive tool to calculate potential profits:</p>
                <!-- Interactive calculator component -->
            </div>
            
            <div class="arbitrage-examples">
                <h4>Historical Examples</h4>
                <p>Notable arbitrage opportunities during the election cycle</p>
                <!-- Examples visualization -->
            </div>
        </section>
        
        <!-- Interactive Data Section -->
        <section id="data-exploration">
            <h3>Interactive Data Analysis</h3>
            <p>Explore the complete dataset of polls and prediction markets.</p>
            
            <div id="graph-controls">
                <!-- Controls for interactive graphs -->
            </div>
            
            <div id="graph-display">
                <!-- Main visualization area -->
            </div>
            
            <div class="graph-options">
                <ul>
                    <li>Price Movement Over Time</li>
                    <li>Volume Analysis</li>
                    <li>Correlation Studies</li>
                    <li>Event Impact Analysis</li>
                </ul>
            </div>
        </section>
        
        <section>
            <h3>Conclusion</h3>
            <p>Placeholder: Summary of findings and implications for future elections.</p>
            <p class="caption">Caption: Final thoughts on the role of prediction markets in elections.</p>
        </section>
    </div>
    
    <!-- Chart Container -->
    <div id="chart-container">
        <h2>2024 Presidential Election Polling vs. Prediction Markets</h2>
        <p class="caption">Caption: Overview of prediction markets and their role in elections.</p>
        <div id="candlestick-chart"></div>
    </div>
    
    <script src="js/polymarket_loader.js"></script>
    <script src="js/kalshi_loader.js"></script>
    <script src="js/polls_loader.js"></script>
    <script src="js/main.js"></script>
</body>
</html>